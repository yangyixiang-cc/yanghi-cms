var $=(p,s,_)=>new Promise((c,d)=>{var m=e=>{try{t(_.next(e))}catch(o){d(o)}},n=e=>{try{t(_.throw(e))}catch(o){d(o)}},t=e=>e.done?c(e.value):Promise.resolve(e.value).then(m,n);t((_=_.apply(p,s)).next())});/* empty css              *//* empty css               *//* empty css               *//* empty css               */import{r as E,o as q,D as j,e as S,f,g as w,E as v,b as M,u as O,d as K,h,l as y,v as Y,t as k,i,j as r,G as D,M as A,H as G,U as J,p as Q,m as N,J as Z,K as X,A as R,N as W,O as B,P as ee,x as ne,y as te,w as T,Q as z,R as P,S as I,k as se,T as L,V as U,W as oe,n as le,X as re,Y as ae,Z as ce,$ as ie,a0 as ue}from"./index.04d82e8d.js";import{_ as x}from"./_plugin-vue_export-helper.cdc0426e.js";const _e=""+new URL("favicon.26cf3172.ico",import.meta.url).href;var H={exports:{}};/*!
* screenfull
* v5.1.0 - 2020-12-24
* (c) Sindre Sorhus; MIT License
*/(function(p){(function(){var s=typeof window!="undefined"&&typeof window.document!="undefined"?window.document:{},_=p.exports,c=function(){for(var n,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],e=0,o=t.length,a={};e<o;e++)if(n=t[e],n&&n[1]in s){for(e=0;e<n.length;e++)a[t[0][e]]=n[e];return a}return!1}(),d={change:c.fullscreenchange,error:c.fullscreenerror},m={request:function(n,t){return new Promise(function(e,o){var a=function(){this.off("change",a),e()}.bind(this);this.on("change",a),n=n||s.documentElement;var l=n[c.requestFullscreen](t);l instanceof Promise&&l.then(a).catch(o)}.bind(this))},exit:function(){return new Promise(function(n,t){if(!this.isFullscreen){n();return}var e=function(){this.off("change",e),n()}.bind(this);this.on("change",e);var o=s[c.exitFullscreen]();o instanceof Promise&&o.then(e).catch(t)}.bind(this))},toggle:function(n,t){return this.isFullscreen?this.exit():this.request(n,t)},onchange:function(n){this.on("change",n)},onerror:function(n){this.on("error",n)},on:function(n,t){var e=d[n];e&&s.addEventListener(e,t,!1)},off:function(n,t){var e=d[n];e&&s.removeEventListener(e,t,!1)},raw:c};if(!c){_?p.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(m,{isFullscreen:{get:function(){return Boolean(s[c.fullscreenElement])}},element:{enumerable:!0,get:function(){return s[c.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(s[c.fullscreenEnabled])}}}),_?p.exports=m:window.screenfull=m})()})(H);const C=H.exports;const de={__name:"ScreenFull",setup(p){const s=E(!1),_=()=>{s.value=C.isFullscreen},c=()=>{C.toggle()};return q(()=>{C.on("change",_)}),j(()=>{C.off("change",_)}),(d,m)=>{const n=S("fullscreen-outlined"),t=S("fullscreen-exit-outlined");return f(),w("div",{onClick:c},[s.value?(f(),v(t,{key:1,style:{"font-size":"16px"}})):(f(),v(n,{key:0,style:{"font-size":"16px"}}))])}}},fe=x(de,[["__scopeId","data-v-427d5545"]]);const pe=p=>(ne("data-v-3250aa5d"),p=p(),te(),p),me={class:"header"},he={class:"header-left"},ve=["alt"],ye={class:"header-left-text"},ge={class:"header-right"},we={class:"person-info"},be=pe(()=>h("a",{href:"javascript:;"},"\u5E2E\u52A9\u5EFA\u8BAE",-1)),ke={__name:"YHeader",setup(p){const{user:s,permissions:_}=M(),c=O(),d=K(()=>s.userinfo),m=()=>{A.confirm({title:"\u63D0\u793A",icon:i(G),content:"\u786E\u5B9A\u6CE8\u9500\u5E76\u9000\u51FA\u7CFB\u7EDF\u5417\uFF1F",cancelText:"\u53D6\u6D88",okText:"\u786E\u5B9A",onOk(){n()},onCancel(){}})},n=()=>$(this,null,function*(){const{data:t}=yield J.logout();t.code===200||t.code===401?(s.removeUserInfo(),s.removeRoles(),s.removePermissions(),_.removeRouters(),Q(),N.success("\u9000\u51FA\u6210\u529F"),c.push({path:"/",replace:!0})):N.error(t.msg)});return(t,e)=>{const o=S("UserOutlined"),a=Z,l=X,g=R,F=S("EllipsisOutlined"),u=W,b=B,V=ee;return f(),w("header",me,[h("div",he,[h("img",{src:_e,alt:y(Y).title,class:"header-left-img"},null,8,ve),h("span",ye,k(y(Y).title),1)]),h("div",ge,[i(l,{placement:"bottom"},{content:r(()=>[h("div",we,[h("div",{onClick:e[0]||(e[0]=()=>{y(c).push({name:"userinfo"})})},"\u4E2A\u4EBA\u4E2D\u5FC3"),h("div",{onClick:m},"\u9000\u51FA\u767B\u5F55")])]),title:r(()=>[h("span",null,k(y(d).nickName),1)]),default:r(()=>[i(a,{size:36,alt:y(d).nickName,src:y(d).avatar,shape:"square",class:"header-right-img"},{icon:r(()=>[i(o)]),_:1},8,["alt","src"])]),_:1}),i(g,{title:"\u5168\u5C4F",placement:"bottom",class:"header-right-msg"},{default:r(()=>[i(fe)]),_:1}),i(V,{class:"header-right-more"},{overlay:r(()=>[i(b,null,{default:r(()=>[i(u,null,{default:r(()=>[be]),_:1})]),_:1})]),default:r(()=>[h("a",{class:"ant-dropdown-link",onClick:e[1]||(e[1]=D(()=>{},["prevent"]))},[i(F,{style:{"font-size":"16px"}})])]),_:1})])])}}},xe=x(ke,[["__scopeId","data-v-3250aa5d"]]);const Fe={class:"aside"},Ee={__name:"YSider",setup(p){const{permissions:s,user:_}=M(),c=O(),d=E(["overview"]),m=E(["overview"]),n=o=>$(this,null,function*(){try{c.push({name:o.key})}catch(a){}});T(()=>m,o=>{console.log("openKeys",o)});const t=o=>{const a=[];return o.filter(l=>{let g=0;if(l.children&&(g=l.children.length),g>0){let F=t(l.children);a.push({name:l.name+l.path,title:l.meta.title,icon:l.meta.icon,visible:l.meta.visible,isSub:!0,children:F})}else a.push({name:l.name,title:l.meta.title,visible:l.meta.visible,isSub:!1,icon:l.meta.icon});return!0}),a.sort((l,g)=>l.sort-g.sort),a},e=K(()=>{const o=s.addRoutes;return t(o)});return(o,a)=>{const l=W,g=oe,F=B;return f(),w("aside",Fe,[i(F,{id:"dddddd",openKeys:m.value,"onUpdate:openKeys":a[0]||(a[0]=u=>m.value=u),selectedKeys:d.value,"onUpdate:selectedKeys":a[1]||(a[1]=u=>d.value=u),style:{width:"100%"},mode:"inline",onClick:n},{default:r(()=>[(f(!0),w(z,null,P(y(e),u=>(f(),w(z,{key:o.index},[u.isSub&&u.visible?(f(),v(g,{key:u.name},I({title:r(()=>[se(k(u.title),1)]),default:r(()=>[(f(!0),w(z,null,P(u.children,b=>(f(),v(l,{key:b.name},I({default:r(()=>[h("span",null,k(b.title),1)]),_:2},[b.icon!="#"?{name:"icon",fn:r(()=>[(f(),v(L(o.$antIcons[b.icon])))]),key:"0"}:void 0]),1024))),128))]),_:2},[u.icon!="#"&&u.visible?{name:"icon",fn:r(()=>[(f(),v(L(o.$antIcons[u.icon])))]),key:"0"}:void 0]),1024)):U("",!0),!u.isSub&&u.visible?(f(),v(l,{key:u.name},I({default:r(()=>[h("span",null,k(u.title),1)]),_:2},[u.icon!="#"?{name:"icon",fn:r(()=>[(f(),v(L(o.$antIcons[u.icon])))]),key:"0"}:void 0]),1024)):U("",!0)],64))),128))]),_:1},8,["openKeys","selectedKeys"])])}}},Se=x(Ee,[["__scopeId","data-v-e7edabe7"]]),Ce={};function $e(p,s){const _=S("router-view");return f(),v(_)}const ze=x(Ce,[["render",$e]]);const Ie={class:"footer"},Le={__name:"YFooter",setup(p){return(s,_)=>(f(),w("div",Ie,k(y(Y).title)+" \xA92023 Created by yanghi ",1))}},Ye=x(Le,[["__scopeId","data-v-327e3953"]]);const Ke={__name:"Layout",setup(p){const s=E(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth);q(()=>{window.onresize=()=>(()=>{s.value=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth})()}),T(s,d=>{d<1024&&(s.value=1024),s.value=d});const _=K(()=>({width:s.value+"px",height:"100vh"})),c=E(!1);return(d,m)=>{const n=ae,t=ce,e=ie,o=ue,a=re;return f(),v(a,{style:le(y(_))},{default:r(()=>[i(n,{class:"reset"},{default:r(()=>[i(xe)]),_:1}),i(a,null,{default:r(()=>[i(t,{class:"reset",width:"240",collapsible:"",theme:"light",collapsed:c.value,"onUpdate:collapsed":m[0]||(m[0]=l=>c.value=l)},{default:r(()=>[i(Se)]),_:1},8,["collapsed"]),i(a,null,{default:r(()=>[i(e,null,{default:r(()=>[i(ze)]),_:1}),i(o,null,{default:r(()=>[i(Ye)]),_:1})]),_:1})]),_:1})]),_:1},8,["style"])}}},Be=x(Ke,[["__scopeId","data-v-8fe14d38"]]);export{Be as default};
